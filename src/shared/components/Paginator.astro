---
import type { MDXInstance, Page } from 'astro';
import clsx from 'clsx';

import NextIcon from '../icons/NextIcon.astro';
import PrevIcon from '../icons/PrevIcon.astro';
import type { Post } from '~/shared/utils/blogPostsHelpers';

interface PaginatorProps {
	page: Page<MDXInstance<Post>>;
}

const {
	page: { url, lastPage, currentPage, size },
} = Astro.props as PaginatorProps;
---

<div
	class="flex items-center justify-between bg-accent rounded-md text-neutral-600 px-3 py-2 my-3 text-sm md:text-base"
>
	<a
		href={url.prev}
		class={clsx(
			'flex items-center bg-white px-2 md:px-4 lg:px-6 space-x-1 md:space-x-3 py-1 transform -rotate-3 rounded-sm',
			{
				'opacity-50 cursor-not-allowed line-through': !url.prev,
				'hover:scale-[1.05] cursor-pointer rotate-3': url.prev,
			}
		)}
	>
		<PrevIcon />
		<span>Prev {size}</span>
	</a>
	<div class="bg-white px-6 py-1 transform rounded-sm hover:scale-[1.05] hover:-rotate-3">
		<span>
			Page {currentPage} of {lastPage}
		</span>
	</div>
	<a
		href={url.next}
		class={clsx(
			'flex items-center bg-white px-2 md:px-4 lg:px-6 space-x-1 md:space-x-3 py-1 transform rotate-3 rounded-sm',
			{
				'opacity-50 cursor-not-allowed line-through': !url.next,
				'hover:scale-[1.05] cursor-pointer hover:-rotate-3': url.next,
			}
		)}
	>
		<span>Next {size}</span>
		<NextIcon />
	</a>
</div>
